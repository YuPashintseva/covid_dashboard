(()=>{class t{constructor(t,e,o,s){this.country=e,this.proportion=o,this.mode=t}draw(t,e,o){this.country=params.coutnry,this.mode===t&&this.country===e&&this.proportion===o||(this.drawChart(t,e,o),this.mode=t,this.country=e,this.proportion=o)}drawCheck(t,e,o){this.createContainer(),google.charts.load("current",{packages:["corechart"]}),google.charts.setOnLoadCallback((()=>this.drawChart(t,e,o))),this.mode=t,this.country=e,this.proportion=o}onChange(){this.callback(params),this.draw(params)}createContainer(){let t=document.createElement("div");t.setAttribute("id","columnchart_values"),t.style.width="900px",t.style.height="400px";let e=document.createElement("div");e.style.position="absolute",e.style.left="136px",e.style.height="50px",e.style.width="531px",e.style.display="inline-flex",e.style.justifyContent="center";let o=document.createElement("button");o.style.flexGrow="1",o.innerHTML="All Cases/Deaths/Recovered",o.addEventListener("click",(()=>{"allCases"===this.mode?(this.drawChart("deaths",this.country,this.proportion),this.mode="deaths"):"deaths"===this.mode?(this.drawChart("recovered",this.country,this.proportion),this.mode="recovered"):(this.drawChart("allCases",this.country,this.proportion),this.mode="allCases")}));let s=document.createElement("button");s.style.flexGrow="1",s.innerHTML="Among All Population",s.addEventListener("click",(()=>{this.drawChart(this.mode,this.country,"all"),this.proportion="all"}));let a=document.createElement("button");a.style.flexGrow="1",a.innerHTML="Per Hundred Thousand",a.addEventListener("click",(()=>{this.drawChart(this.mode,this.country,"100"),this.proportion="100"}));let l=document.getElementById("graphContainer");e.appendChild(o),e.appendChild(s),e.appendChild(a),l.appendChild(t),l.appendChild(e)}async drawChart(t,e,o){let s,a,l={};s="The World"===e?"https://disease.sh/v3/covid-19/historical/all?lastdays=400":`https://disease.sh/v3/covid-19/historical/${e}?lastdays=400`,l=await fetch(s).then((t=>t.json())).then((t=>JSON.parse(JSON.stringify(t)))).catch((t=>console.log(t))),"The World"!==e&&(l=l.timeline),a="deaths"===t?Object.entries(l.deaths):"allCases"===t?Object.entries(l.cases):"recovered"===t?Object.entries(l.recovered):Object.entries(l.cases);let r=[],i=[];"100"===o?(i=a.map(((t,e)=>(t[1]=t[1]/((7763035303+252530*e)/1e5),t))),r=i.slice()):r=a.slice(),r.unshift(["date","number"]);var n=google.visualization.arrayToDataTable(r),h={title:`${this.country} Total number of cases by day from the beginning`,width:800,height:400,bar:{groupWidth:"95%"},legend:{position:"none"},vAxis:{logScale:"true"}};"deaths"===t?(h.title=`${this.country}: Total number of deaths`,h.colors=["black"]):"allCases"===t?(h.title=`${this.country}: All Cases Among the Whole Population`,h.colors=["blue"]):"recovered"===t?(h.title=`${this.country}: Recovered Among the Whole Population`,h.colors=["#339911"]):(h.title=`${this.country}: All Cases Among the Whole Population`,h.colors=["blue"]),"100"===o?(h.title=`${this.country}: ${this.mode} Per 100 thousand`,h.vAxis.logScale="false",h.chartArea={backgroundColor:"yellow"}):"100"!==o&&(h.vAxis.logScale="true"),new google.visualization.ColumnChart(document.getElementById("columnchart_values")).draw(n,h)}}window.onload=()=>{new t("All Cases","The World","all").drawCheck("All Cases","France","all")}})();